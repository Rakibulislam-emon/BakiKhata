(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{754:function(e,t,s){Promise.resolve().then(s.bind(s,7585))},7585:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var a=s(7437),r=s(2265);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:x,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:s,strokeWidth:d?24*Number(l)/Number(a):l,className:n("lucide",c),...m},[...x.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let s=(0,r.forwardRef)((s,a)=>{let{className:i,...c}=s;return(0,r.createElement)(d,{ref:a,iconNode:t,className:n("lucide-".concat(l(e)),i),...c})});return s.displayName="".concat(e),s},o=c("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),x=c("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),m=c("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h=c("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),u=c("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),g=c("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),p=c("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),j=c("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),f=c("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),N=c("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),b=c("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),w=c("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),v=()=>Math.random().toString(36).substr(2,9),y=e=>new Date(e).toLocaleDateString("bn-BD",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=e=>new Date(e).toLocaleDateString("bn-BD",{day:"numeric",month:"short",year:"numeric"}),C=e=>new Intl.NumberFormat("bn-BD",{style:"currency",currency:"BDT",maximumFractionDigits:0}).format(e),D=()=>new Date().toISOString();function P(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)({name:"",amount:"",notes:""}),[n,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),[P,L]=(0,r.useState)(null),[T,M]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("baki-transactions");if(e)try{t(JSON.parse(e))}catch(e){console.error("Failed to load data")}},[]),(0,r.useEffect)(()=>{localStorage.setItem("baki-transactions",JSON.stringify(e))},[e]);let S=(e,t)=>{L({type:e,message:t}),setTimeout(()=>L(null),3e3)},E=e=>{t(t=>t.map(t=>t.id===e?{...t,isPaid:!t.isPaid}:t))},F=e=>{confirm("আপনি কি নিশ্চিত যে এই বিল মুছে ফেলতে চান?")&&(t(t=>t.filter(t=>t.id!==e)),S("success","বিল মুছে ফেলা হয়েছে"))},A=()=>{T&&confirm("আপনি কি নিশ্চিত যে ".concat(T,"-এর সব বিল মুছে ফেলতে চান?"))&&(t(e=>e.filter(e=>e.customerName.toLowerCase()!==T.toLowerCase())),M(null),S("success","সব বিল মুছে ফেলা হয়েছে"))},q=(0,r.useMemo)(()=>{let t=new Map;e.forEach(e=>{let s=e.customerName.toLowerCase().trim();t.has(s)||t.set(s,[]),t.get(s).push(e)});let s=[];return t.forEach((e,t)=>{var a;let r=e.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());s.push({name:e[0].customerName,transactions:r,lastTransaction:(null===(a=r[0])||void 0===a?void 0:a.date)||""})}),s.sort((e,t)=>new Date(t.lastTransaction).getTime()-new Date(e.lastTransaction).getTime())},[e]),B=(0,r.useMemo)(()=>{var t;if(!T)return null;let s=e.filter(e=>e.customerName.toLowerCase()===T.toLowerCase());if(0===s.length)return null;let a=s.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());return{name:s[0].customerName,transactions:a,lastTransaction:(null===(t=a[0])||void 0===t?void 0:t.date)||""}},[T,e]),z=(0,r.useMemo)(()=>{if(!B)return null;let e=B.transactions.filter(e=>!e.isPaid).reduce((e,t)=>e+t.amount,0);return{totalBaki:e,totalPaid:B.transactions.filter(e=>e.isPaid).reduce((e,t)=>e+t.amount,0),unpaidCount:B.transactions.filter(e=>!e.isPaid).length,paidCount:B.transactions.filter(e=>e.isPaid).length}},[B]),H=t=>{var s,a;let r=e.filter(e=>e.customerName.toLowerCase()===t.toLowerCase()),l=r.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());return{name:(null===(s=r[0])||void 0===s?void 0:s.customerName)||t,transactions:l,lastTransaction:(null===(a=l[0])||void 0===a?void 0:a.date)||""}},O=(0,r.useMemo)(()=>e.filter(e=>e.customerName.toLowerCase().includes(n.toLowerCase())&&!e.isHiddenFromRecent).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5),[e,n]),_=(0,r.useMemo)(()=>e.filter(e=>!e.isPaid).reduce((e,t)=>e+t.amount,0),[e]),I=(0,r.useMemo)(()=>e.filter(e=>e.isPaid).reduce((e,t)=>e+t.amount,0),[e]);if(B&&z){let e=z.totalBaki,r=B.transactions.filter(e=>!e.isPaid),n=B.transactions.filter(e=>e.isPaid),i=r.length>0;return(0,a.jsxs)("div",{className:"min-h-screen pb-20",children:[P&&(0,a.jsx)("div",{className:"fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 ".concat("success"===P.type?"bg-green-500":"bg-red-500"," text-white"),children:P.message}),(0,a.jsx)("header",{className:"bg-gradient-to-r from-green-600 to-green-500 text-white py-4 px-4 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>M(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,a.jsx)(o,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:B.name}),(0,a.jsx)("p",{className:"text-green-100 text-sm",children:"সম্পূর্ণ লেনদেনের তালিকা"})]})]}),(0,a.jsx)("button",{onClick:A,className:"p-2 bg-red-500/20 hover:bg-red-500/30 rounded-lg transition-colors",title:"সব মুছুন",children:(0,a.jsx)(x,{className:"w-5 h-5"})})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 mt-4",children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("p",{className:"text-green-100",children:"বর্তমান বাকি"}),(0,a.jsx)("p",{className:"text-5xl font-bold",children:C(e)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[(0,a.jsx)("p",{className:"text-green-200 text-sm",children:"মোট বিল"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:[B.transactions.length,"টি"]})]}),(0,a.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[(0,a.jsx)("p",{className:"text-green-200 text-sm",children:"বাকি আছে"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:[z.unpaidCount,"টি"]})]}),(0,a.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[(0,a.jsx)("p",{className:"text-green-200 text-sm",children:"পরিশোধিত"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:[z.paidCount,"টি"]})]})]})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 mt-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-card",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center gap-2",children:[(0,a.jsx)(m,{className:"w-5 h-5 text-green-600"}),"নতুন বিল যোগ করুন"]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!s.amount)return;let a=parseFloat(s.amount);if(isNaN(a)||a<=0){S("error","সঠিক টাকার পরিমাণ লিখুন");return}let r={id:v(),customerName:B.name,amount:a,isPaid:!1,date:D(),notes:s.notes.trim(),createdAt:D()};t(e=>[r,...e]),l({name:B.name,amount:"",notes:""}),S("success","বিল যোগ হয়েছে")},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"টাকার পরিমাণ (টাকা) *"}),(0,a.jsx)("input",{type:"number",value:s.amount,onChange:e=>l({...s,amount:e.target.value}),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0,autoFocus:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"নোট (ঐচ্ছিক)"}),(0,a.jsx)("textarea",{value:s.notes,onChange:e=>l({...s,notes:e.target.value}),placeholder:"অতিরিক্ত তথ্য...",rows:2,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all resize-none"})]}),(0,a.jsxs)("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-all font-medium flex items-center justify-center gap-2",children:[(0,a.jsx)(m,{className:"w-5 h-5"}),"যোগ করুন"]})]})]})}),r.length>0&&(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 bg-red-500 rounded-full"}),"বাকি বিল (",r.length,"টি)"]}),(0,a.jsxs)("button",{onClick:()=>{if(!T)return;let e=H(T).transactions.filter(e=>!e.isPaid).length>0;t(t=>t.map(t=>t.customerName.toLowerCase()===T.toLowerCase()?{...t,isPaid:e}:t))},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all text-sm font-medium",children:[i?(0,a.jsx)(h,{className:"w-4 h-4"}):(0,a.jsx)(u,{className:"w-4 h-4"}),"সব পরিশোধ করুন"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-card border-l-4 border-red-500",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isPaid,onChange:()=>E(e.id),className:"w-6 h-6 rounded border-2 border-red-500 text-red-500 focus:ring-red-500 cursor-pointer"}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xl font-bold text-red-600",children:C(e.amount)}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500 mt-1",children:[(0,a.jsx)(g,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:y(e.date)})]}),e.notes&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["\uD83D\uDCDD ",e.notes]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("button",{onClick:()=>F(e.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all",title:"মুছুন",children:(0,a.jsx)(x,{className:"w-4 h-4"})})})]})})]})},e.id))})]}),n.length>0&&(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full"}),"পরিশোধিত বিল (",n.length,"টি)"]}),(0,a.jsxs)("button",{onClick:()=>{confirm("আপনি কি নিশ্চিত যে ".concat(B.name,"-এর সব পরিশোধিত বিল মুছে ফেলতে চান?"))&&(t(e=>e.filter(e=>!(e.customerName.toLowerCase()===B.name.toLowerCase()&&e.isPaid))),S("success","সব পরিশোধিত বিল মুছে ফেলা হয়েছে"))},className:"flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-all text-sm font-medium",children:[(0,a.jsx)(x,{className:"w-4 h-4"}),"সব মুছুন"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-card border-l-4 border-green-500 opacity-75",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isPaid,onChange:()=>E(e.id),className:"w-6 h-6 rounded border-2 border-green-500 text-green-500 focus:ring-green-500 cursor-pointer"}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xl font-bold text-green-600 line-through",children:C(e.amount)}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500 mt-1",children:[(0,a.jsx)(g,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:y(e.date)})]})]}),(0,a.jsx)("button",{onClick:()=>F(e.id),className:"p-2 bg-gray-100 text-gray-400 rounded-lg hover:bg-red-100 hover:text-red-600 transition-all",title:"মুছুন",children:(0,a.jsx)(x,{className:"w-4 h-4"})})]})})]})},e.id))})]}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 mt-8",children:(0,a.jsxs)("button",{onClick:A,className:"w-full py-4 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all font-medium flex items-center justify-center gap-2 shadow-lg",children:[(0,a.jsx)(x,{className:"w-5 h-5"}),"All Clear - এই গ্রাহকের সব বিল মুছুন"]})}),(0,a.jsx)("footer",{className:"max-w-4xl mx-auto px-4 mt-12 text-center text-gray-500 text-sm",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," বাকি হিসাব"]})})]})}return(0,a.jsxs)("div",{className:"min-h-screen pb-20",children:[P&&(0,a.jsx)("div",{className:"fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 ".concat("success"===P.type?"bg-green-500":"bg-red-500"," text-white"),children:P.message}),(0,a.jsx)("header",{className:"bg-gradient-to-r from-green-600 to-green-500 text-white py-6 px-4 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDCCB বাকি হিসাব"}),(0,a.jsx)("p",{className:"text-green-100",children:"আপনার গ্রাহকদের বাকির হিসাব সহজে রাখুন"})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 -mt-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-card card-hover",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,a.jsx)(p,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"মোট বাকি"}),(0,a.jsx)("p",{className:"text-xl font-bold text-red-600",children:C(_)})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-card card-hover",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(j,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"পরিশোধিত"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-600",children:C(I)})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-card card-hover",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,a.jsx)(f,{className:"w-6 h-6 text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"মোট লেনদেন"}),(0,a.jsx)("p",{className:"text-xl font-bold text-orange-600",children:e.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-card card-hover",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(N,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"গ্রাহক"}),(0,a.jsx)("p",{className:"text-xl font-bold text-blue-600",children:q.length})]})]})})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 mt-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{type:"text",placeholder:"গ্রাহকের নাম খুঁজুন...",value:n,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all"})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 mt-6",children:(0,a.jsxs)("button",{onClick:()=>c(!d),className:"w-full py-4 bg-white border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-green-500 hover:text-green-600 transition-all flex items-center justify-center gap-2 font-medium",children:[(0,a.jsx)(m,{className:"w-5 h-5"}),"নতুন বিল যোগ করুন"]})}),d&&(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 mt-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-card",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"নতুন বিল যোগ করুন"}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!s.name.trim()||!s.amount){S("error","দয়া করে নাম এবং টাকার পরিমাণ লিখুন");return}let a=parseFloat(s.amount);if(isNaN(a)||a<=0){S("error","সঠিক টাকার পরিমাণ লিখুন");return}let r={id:v(),customerName:s.name.trim(),amount:a,isPaid:!1,date:D(),notes:s.notes.trim(),createdAt:D()};t(e=>[r,...e]),l({name:"",amount:"",notes:""}),c(!1),S("success","বিল যোগ হয়েছে")},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"গ্রাহকের নাম *"}),(0,a.jsx)("input",{type:"text",value:s.name,onChange:e=>l({...s,name:e.target.value}),placeholder:"উদাহরণ: রাকিব",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0,autoFocus:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"টাকার পরিমাণ (টাকা) *"}),(0,a.jsx)("input",{type:"number",value:s.amount,onChange:e=>l({...s,amount:e.target.value}),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"নোট (ঐচ্ছিক)"}),(0,a.jsx)("textarea",{value:s.notes,onChange:e=>l({...s,notes:e.target.value}),placeholder:"অতিরিক্ত তথ্য...",rows:2,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all resize-none"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{type:"submit",className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-all font-medium flex items-center justify-center gap-2",children:[(0,a.jsx)(m,{className:"w-5 h-5"}),"যোগ করুন"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>c(!1),className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all font-medium flex items-center justify-center gap-2",children:[(0,a.jsx)(w,{className:"w-5 h-5"}),"বাতিল"]})]})]})]})}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\uD83D\uDCCA গ্রাহকের বাকির হিসাব"}),0===q.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl p-12 text-center shadow-card",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCED"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"কোনো গ্রাহক নেই"}),(0,a.jsx)("p",{className:"text-gray-500",children:"উপরের বাটনে ক্লিক করে নতুন বিল যোগ করুন"})]}):(0,a.jsx)("div",{className:"space-y-4",children:q.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())).map(e=>{let t=e.transactions.filter(e=>!e.isPaid).reduce((e,t)=>e+t.amount,0);e.transactions.filter(e=>e.isPaid).reduce((e,t)=>e+t.amount,0);let s=e.transactions.filter(e=>!e.isPaid).length,r=e.transactions.filter(e=>e.isPaid).length;return(0,a.jsx)("div",{onClick:()=>M(e.name),className:"bg-white rounded-xl p-4 shadow-card card-hover cursor-pointer transition-all",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-xl ".concat(t>0?"bg-orange-500":"bg-green-500"),children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["শেষ লেনদেন: ",k(e.lastTransaction)]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["মোট বিল: ",e.transactions.length,"টি | বাকি:"," ",s,"টি | পরিশোধিত: ",r,"টি"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-2xl font-bold ".concat(t>0?"text-red-600":"text-green-600"),children:C(t)}),(0,a.jsx)("p",{className:"text-sm ".concat(t>0?"text-red-500":"text-green-500"),children:t>0?"বাকি":"সব পরিশোধিত"})]})]})},e.name)})})]}),O.length>0&&(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 mt-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"\uD83D\uDD50 সাম্প্রতিক লেনদেন"}),(0,a.jsxs)("button",{onClick:()=>{if(confirm("আপনি কি নিশ্চিত যে সাম্প্রতিক লেনদেনের তালিকা মুছে ফেলতে চান? (মূল হিসাব ঠিক থাকবে)")){let e=O.map(e=>e.id);t(t=>t.map(t=>e.includes(t.id)?{...t,isHiddenFromRecent:!0}:t)),S("success","সাম্প্রতিক তালিকা পরিষ্কার করা হয়েছে")}},className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all flex items-center gap-2 text-sm font-medium",title:"সব মুছুন",children:[(0,a.jsx)(x,{className:"w-4 h-4"}),"সব মুছুন"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:O.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-card ".concat(e.isPaid?"opacity-60":""),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(e.isPaid?"bg-green-100":"bg-red-100"),children:e.isPaid?(0,a.jsx)(N,{className:"w-4 h-4 text-green-600"}):(0,a.jsx)(p,{className:"w-4 h-4 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.customerName}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,a.jsx)(g,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:y(e.date)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("p",{className:"font-bold ".concat(e.isPaid?"text-green-600 line-through":"text-red-600"),children:C(e.amount)}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),confirm("আপনি কি নিশ্চিত যে এই বিল মুছে ফেলতে চান?")&&F(e.id)},className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"মুছুন",children:(0,a.jsx)(x,{className:"w-4 h-4"})})]})]})},e.id))})]}),(0,a.jsx)("footer",{className:"max-w-4xl mx-auto px-4 mt-12 text-center text-gray-500 text-sm",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," বাকি হিসাব"]})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=754)}),_N_E=e.O()}]);